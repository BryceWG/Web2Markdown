# Web2Markdown

一款功能强大的Firefox浏览器扩展，可将任何网页内容通过大语言模型（LLM）转换为干净、可读的 Markdown 格式。

## 核心特性

- **上下文菜单转换**  
  提供上下文菜单选项"Convert to Markdown"，点击后将当前页面或选中的文本发送至后台脚本进行转换。  
  _需要 `contextMenus` 权限。_

- **弹出页面**  
  打开一个弹出窗口，允许用户手动触发转换过程。  
  功能：提供按钮访问设置，自动初始化页面信息，并手动开始转换。

- **选项页面**  
  提供设置页面供用户配置 API 端点、模型、密钥、系统提示和其他行为选项。  
  功能：保存设置，测试 API 连接，并显示最近使用的模型历史记录。

- **自动提取功能**  
  可以选择是否在页面加载时自动提取内容并将其发送至后台处理。  
  _需要 `storage` 权限。_

- **自动复制功能**  
  完成转换后可以自动复制结果到剪贴板。  
  _需要 `clipboardWrite` 权限。_

- **通知功能**  
  可以选择是否在转换过程中显示系统通知。  
  _需要 `notifications` 权限。_

- **附加页面信息**  
  可以选择是否在复制结果时附加页面标题和 URL。  
  _需要 `activeTab` 权限。_

- **系统提示配置**  
  允许用户自定义系统提示，指导 AI 如何更好地提取和格式化内容。  
  _默认提供的系统提示确保了 LLM 正确识别并格式化主要内容。_

## 如何使用

### 安装与快速启动
1. 打开浏览器扩展管理界面。
2. 添加并启用 Web2Markdown 扩展。
3. 点击工具栏中的 Web2Markdown 图标打开弹出窗口。

### 使用上下文菜单
1. 右键点击需要转换的文本或网页。
2. 选择"Convert to Markdown"选项。
3. 根据选项设置，结果会自动复制到剪贴板或显示通知成功。

### 使用弹出窗口
1. 点击浏览器工具栏中的 Web2Markdown 图标。
2. 点击"Convert to Markdown"按钮。
3. (可选) 根据选项设置，结果会被自动提取和复制到剪贴板或显示通知成功。

### 访问设置页面
1. 在弹出窗口或上下文菜单中点击"⚙️ Settings"按钮。
2. 在设置页面中配置各种选项：API 端点, 模型, API 密钥, 温度, 系统提示, 附加行为
3. 点击"保存设置"保存配置。
4. 点击"Test Connection"测试 API 链接是否正常。

### 高级自定义系统提示
1. 进入设置页面。
2. 在"系统提示"文本区域自定义提示内容。
3. 点击"保存设置"应用自定义提示。

### 模型历史记录管理
1. 在设置页面中查看最近使用的模型。
2. 点击模型名称将当前设置更新为该模型。
3. 点击"×"图标删除某个模型的历史记录。

## 配置选项

在选项页面中，您可以配置以下项目：

- **API 端点**: 设置用于转换的 LLM API 端点地址。
- **模型**: 选择要使用的 LLM 模型。
- **API 密钥**: 输入访问 LLM API 所需的认证密钥。
- **系统提示**: 自定义系统提示来指导 AI 如何提取和格式化内容。
- **附加行为**: 配置自动提取、自动复制、显示通知以及附加页面信息等行为选项。